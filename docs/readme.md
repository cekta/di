# Начало

Это библиотека предоставляют имплементацию [psr/container](https://www.php-fig.org/psr/psr-11/), другими словами это 
внедрение зависимостей.

## Видео демонстрация работы и возможностей

[![Watch the video](https://img.youtube.com/vi/w4rrpuUMoDs/0.jpg)](https://youtu.be/w4rrpuUMoDs)

## Как это работает

1. Разработчик формирует желаемую конфигурацию зависимостей библиотека
2. Разработчик с помощью cekta/di генерирует код, виде class реализующий 
    [ContainerInterface](https://github.com/php-fig/container/blob/master/src/ContainerInterface.php)
3. Разработчик использует сгенерированный класс в своем приложение, будто бы его написал он сам.

В случае ошибок конфигурации или не возможности разрешить все зависимости библиотеке сообщает об ошибках.

Как вы понимаете использования такого подхода имеет как несомненные преимущества, так и некоторые недостатки

### Преимущества

1. Удобство при использовании.  
    Вы работаете как с обычным экемляром класс, а точней вы взаимодействуете с методами
    [ContainerInterface](https://github.com/php-fig/container/blob/master/src/ContainerInterface.php)
2. Не требуется ничего оптимизировать.  
    Не нужно настрайвать никакое кэширование, все существующие оптимизации в PHP такие, 
    как opcache, автоматически применяются.
3. Нулевой overhead в runtime.
    Все необходимые вычисления происходят во время кода генерации, единожды.
    В runtime мы просто используем готовый результат.
4. Вы определяете когда делать кода генерицию (каждый выбор имеет плюсы и минусы)
   1. Сразу после деплоя отдельной командой.
   2. Во время сборки отдельной командой и деплоить проект уже содержаший все необходимое.
   3. При обработке первого запроса генерировать код, а в дальнейшем если файл существует использовать его.

### Недостатки

1. Необходимо реализовывать этап коде генерации (компиляции или сборки).  
    Это особенно не привычно разработчикам скриптовых языков, такого как PHP, здесь нет этапа "компиляции", а также 
    не сильно распространена практика сборки проекта перед запуском, так как в js или ts или компилируемых языках.